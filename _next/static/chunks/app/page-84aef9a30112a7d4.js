(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8563:(e,t,s)=>{Promise.resolve().then(s.bind(s,9913))},9913:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>k});var a,n=s(7437),i=s(2265);!function(e){e[e.male=0]="male",e[e.female=1]="female",e[e.any=2]="any"}(a||(a={}));var l=s(7138);let r=()=>(0,n.jsx)("header",{className:"bg-white/10 backdrop-blur-lg p-4 mb-6",children:(0,n.jsxs)("nav",{className:"max-w-7xl mx-auto flex flex-wrap items-center justify-between",children:[(0,n.jsx)(l.default,{href:"/",className:"text-2xl font-bold transition-all duration-300 hover:scale-105",children:"TerviseN\xf5unik"}),(0,n.jsxs)("div",{className:"flex space-x-6",children:[(0,n.jsx)(l.default,{href:"/",className:"hover:text-white transition-all duration-300",children:"Avaleht"}),(0,n.jsx)(l.default,{href:"/about",className:"hover:text-white transition-all duration-300",children:"Meist"})]})]})}),o=e=>{switch(e.toLowerCase().trim()){case"male":return a.male;case"female":return a.female;default:return a.any}};class u{getCurrentQuestion(){return this._questions[this._currentQuestionIndex]||null}getName(){return this._name}getAge(){return this._age}getGender(){return this._gender}setAge(e){this._age=e}setGender(e){this._gender=e}nextQuestion(){let e=new Set;for(;this.canSelectNext()&&(this._currentQuestionIndex++,!e.has(this._currentQuestionIndex));){e.add(this._currentQuestionIndex);let s=this.getCurrentQuestion();if(s){var t;if(s.gender!==this._gender&&s.gender!==a.any&&(null!==(t=s.minAge)&&void 0!==t?t:0>this._age))continue;return s}}return null}previousQuestion(){return this.canSelectPrevius()?(this._currentQuestionIndex--,this.getCurrentQuestion()):null}reset(){this._currentQuestionIndex=0}canSelectNext(){return this._currentQuestionIndex<this._questions.length-1}canSelectPrevius(){return this._currentQuestionIndex>0}constructor(e,t,s,a){this._currentQuestionIndex=0,this._questions=a,this._name=e,this._age="string"==typeof s?parseInt(s,10):s,this._gender="string"==typeof t?o(t):t}}var c=s(8472),d=s(357);class h{constructor(e,t){this.httpClient=c.Z.create({baseURL:e,headers:{"Content-Type":"application/json",...t&&{Authorization:"Bearer ".concat(t)}}})}}h.hostBaseURL=d.env.NEXT_PUBLIC_APIENDPOINT;var m=s(8355),x=s.n(m);class g extends h{async getAll(e,t){let s={...this.params};t&&e&&(s[e]=t),console.log("I am here");try{let e=await this.httpClient.get("",{params:s});if(e.status<300){let t=e.data,s=x().parse(t,{header:!0,skipEmptyLines:!0,transform:(e,t)=>"minAge"===t||"maxAge"===t?parseInt(e,10):"gender"===t?o(e):e}).data;return console.log(s),{data:s}}return{errors:[this.handleError(e)]}}catch(e){return{errors:[this.handleError(e)]}}}handleError(e){return e.response?"".concat(e.response.data.title):(console.log("An error occurred: ".concat(e.message)),"An error occurred: ".concat(e.message))}constructor(e,t){super(e,t),this.params={}}}class v extends g{constructor(e,t){super(""+e,t)}}let p=["RindKere/Chest"],f=async()=>{let e=[];for(let t of p){console.log("Setting up engines: ".concat(t));let s=await new v("https://docs.google.com/spreadsheets/d/1uYJ6vAG4S5nSv5dCLkCxbnEycPK7QYLZ5q63pnyqvDs/gviz/tq?tqx=out:csv&sheet="+t).getAll();s.data&&(console.log(t),e.push(new u(t.split("/")[0],a.any,-1,s.data)))}return e};function k(){let[e,t]=(0,i.useState)([]),[s,l]=(0,i.useState)(),[o,u]=(0,i.useState)(null),[c,d]=(0,i.useState)(!1),[h,m]=(0,i.useState)(null),[x,g]=(0,i.useState)(""),[v,p]=(0,i.useState)(a.male),[k,j]=(0,i.useState)(!1),[N,b]=(0,i.useState)(!1),[w,C]=(0,i.useState)(!0),[y,_]=(0,i.useState)(!0),A=e=>{e?(null==s?void 0:s.getCurrentQuestion())&&u(s.getCurrentQuestion().result):s&&(s.nextQuestion(),d(!c))},I=async e=>{h&&e.setAge(h),v&&e.setGender(v),C(!1),await new Promise(e=>setTimeout(e,500)),l(e)},Q=async()=>{console.log("Fetching data...");let e=await f();t(e),console.log(e)};return(0,i.useEffect)(()=>{Q()},[]),(0,n.jsxs)("div",{className:"min-h-screen bg-gradient-to-t from-[#2D5A27] via-[#8FCA5B] to-[#C5E063] text-black p-4",children:[(0,n.jsx)(r,{}),(0,n.jsx)("main",{className:"p-4",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:["ˇ",w&&(0,n.jsx)("div",{className:"transition-all duration-500 ease-in-out transform ".concat(y?"scale-100 opacity-100":"scale-95 opacity-0 h-0 overflow-hidden"),children:(0,n.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 mb-8 transition-transform duration-300 hover:scale-[1.01]",children:[(0,n.jsxs)("button",{onClick:()=>{_(!y)},className:"w-full flex justify-between items-center",children:[(0,n.jsx)("h1",{className:"text-2xl md:text-3xl font-bold",children:"Helista kohe 112 kui esineb \xfcks v\xf5i mitu j\xe4rgnevatest s\xfcmptomitest:"}),(0,n.jsx)("span",{className:"transform transition-transform duration-300 ".concat(y?"rotate-180":""),children:"▼"})]}),y&&(0,n.jsx)("ul",{className:"space-y-3 text-sm md:text-lg mt-6 animate-fadeIn",children:["s\xfcdame infarkti tunnused - tugev r\xf5huvpigistav k\xf5rvetav valu rinnus kiirgusega k\xe4tte/k\xe4tesse, abaluude vahele, selga, l\xf5uga, \xfclak\xf5htu.","insuldi tunnused -\xe4kki tekkinud \xfche keha poole n\xf5rkus ja/v\xf5i j\xe4semete tundlikuse muutus/n\xf5rkus (ei suuda k\xe4tt/k\xe4si t\xf5sta) ja/v\xf5i \xe4kki tekkinud k\xf5netakistus ja/v\xf5i inimesel on \xfcks suunurk alla vajunud (n\xe4o poole allavaje).","suur verejooks - pritsiv, joana voolav veri -suru k\xe4ega tugevasti haavale proovi verejooks survega peatada.","allergiline reaktsioon - kiiresti tekkiv huulte-, suu-, k\xf5ri- v\xf5i keeleturse, hingamis takistus","s\xfcnnitus -lootevee puhkemine, sagedasemad kui 5 minutit intensiivsed tuhude esinemine (kontraktsioonid), lapse kohe tulek v\xf5i \xe4sja s\xfcndinud.","enesetapukatse -enese vigastus, on s\xf6\xf6nud suures koguses ravimeid v\xf5i muud kemikaalide tarvitanud inimene"].map((e,t)=>(0,n.jsxs)("li",{className:"flex items-start transition-all duration-300 hover:translate-x-2",children:[(0,n.jsx)("span",{className:"inline-block w-2 h-2 mt-2 mr-3 bg-[#C5E063] rounded-full flex-shrink-0"}),e]},t))})]})}),(0,n.jsx)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 transition-all duration-300 hover:shadow-lg",children:o?(0,n.jsx)("div",{className:"text-xl md:text-2xl font-semibold animate-fadeIn",children:o.split(".").map((e,t)=>(0,n.jsx)("p",{children:e.trim()},t))}):k?N?s?s.getCurrentQuestion()?(0,n.jsxs)("div",{className:"space-y-6 animate-fadeIn",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("p",{className:"text-xl font-semibold",children:s.getName()}),(0,n.jsx)("p",{className:"text-xl",children:"Kas teil on ilmnenud j\xe4rgnev s\xfcmptom?"}),(0,n.jsx)("p",{className:"text-xl font-bold",children:s.getCurrentQuestion().contentEst})]}),(0,n.jsx)("div",{className:"flex flex-wrap gap-4 justify-center",children:[{text:"Jah",onClick:()=>A(!0)},{text:"Ei",onClick:()=>A(!1)},{text:"Eelmine k\xfcsimus",onClick:()=>{s&&(s.previousQuestion(),d(!c))}},{text:"Muuda probleemi piirkonda",onClick:()=>{l(null),C(!0)}}].map((e,t)=>(0,n.jsx)("button",{onClick:e.onClick,className:"px-6 py-2 bg-gradient-to-r from-[#2D5A27] to-[#8FCA5B] rounded-lg transition-all duration-300 hover:scale-105 hover:shadow-lg active:scale-95 text-white",children:e.text},t))})]}):(0,n.jsx)("div",{className:"text-center animate-pulse",children:(0,n.jsx)("p",{className:"text-xl",children:"Loading question..."})}):(0,n.jsxs)("div",{className:"space-y-6 animate-fadeIn",children:[(0,n.jsx)("h1",{className:"text-2xl md:text-3xl font-bold",children:"Vali valulik piirkond v\xf5i s\xfcmptom:"}),(0,n.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((e,t)=>(0,n.jsx)("button",{onClick:()=>I(e),className:"p-4 bg-gradient-to-r from-[#2D5A27] to-[#8FCA5B] rounded-lg transition-all duration-300 hover:scale-105 hover:shadow-lg active:scale-95 font-semibold",children:e.getName().charAt(0).toUpperCase()+e.getName().slice(1)},t))})]}):(0,n.jsxs)("div",{className:"space-y-4 animate-fadeIn",children:[(0,n.jsx)("p",{className:"text-xl font-semibold",children:"Palun vali oma bioloogiline sugu:"}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-4 justify-center",children:[(0,n.jsxs)("select",{value:null!=v?v:a.male,onChange:e=>p(e.target.value),className:"px-4 py-2 rounded-lg bg-white/20 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-[#C5E063] text-black transition-all duration-300 hover:bg-white/30",children:[(0,n.jsx)("option",{value:a.male,children:"Mees"}),(0,n.jsx)("option",{value:a.female,children:"Naine"})]}),(0,n.jsx)("button",{onClick:()=>{if(null===v){g("Palun vali sugu.");return}b(!0)},className:"px-6 py-2 bg-gradient-to-r from-[#2D5A27] to-[#8FCA5B] rounded-lg transition-all duration-300 hover:scale-105 hover:shadow-lg active:scale-95",children:"Edasi"})]})]}):(0,n.jsxs)("div",{className:"space-y-4 animate-fadeIn",children:[x&&(0,n.jsx)("p",{className:"text-red-300 animate-shake",children:x}),(0,n.jsx)("p",{className:"text-xl font-semibold",children:"Kui vana sa oled?"}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-4 justify-center",children:[(0,n.jsx)("input",{type:"number",value:null!=h?h:"",onChange:e=>{let t=e.target.valueAsNumber;m(isNaN(t)?null:t),g("")},className:"px-4 py-2 rounded-lg bg-white/20 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-[#C5E063] text-black placeholder-white/60 transition-all duration-300 hover:bg-white/30"}),(0,n.jsx)("button",{onClick:()=>{if(null===h||isNaN(h)){g("Vanus peab olema number.");return}h<0||h>120?g("Vanus peab olema 0 ja 120 vahel."):(g(""),j(!0))},className:"px-6 py-2 bg-gradient-to-r from-[#2D5A27] to-[#8FCA5B] rounded-lg transition-all duration-300 hover:scale-105 hover:shadow-lg active:scale-95",children:"Edasi"})]})]})})]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[231,33,130,215,744],()=>t(8563)),_N_E=e.O()}]);